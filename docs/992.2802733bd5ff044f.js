"use strict";(self.webpackChunkapp_front=self.webpackChunkapp_front||[]).push([[992],{6992:(ie,_,a)=>{a.r(_),a.d(_,{AuthModule:()=>oe});var m=a(6814),l=a(95),f=a(719),v=a(1296),e=a(4946),T=a(8180),b=a(3974);function C(r,n){1&r&&(e.TgZ(0,"div",14),e._uU(1,"El correo electr\xf3nico es obligatorio."),e.qZA())}function h(r,n){1&r&&(e.TgZ(0,"div",14),e._uU(1,"El correo electr\xf3nico no es v\xe1lido."),e.qZA())}function F(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,C,2,0,"div",13),e.YNc(2,h,2,0,"div",13),e.qZA()),2&r){const i=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("email"))?null:o.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.hasError("email"))}}function q(r,n){1&r&&(e.TgZ(0,"div",14),e._uU(1,"La contrase\xf1a es obligatoria."),e.qZA())}function A(r,n){1&r&&(e.TgZ(0,"div",14),e._uU(1,"La contrase\xf1a debe tener al menos 8 caracteres."),e.qZA())}function I(r,n){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,q,2,0,"div",13),e.YNc(2,A,2,0,"div",13),e.qZA()),2&r){const i=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("password"))?null:o.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.hasError("minlength"))}}function y(r,n){1&r&&(e.TgZ(0,"div",16)(1,"p"),e._uU(2,"Usuario o Contrase\xf1a erroneos"),e.qZA()())}let E=(()=>{class r{constructor(i,o,t){this.formBuilder=i,this.loginServices=o,this.router=t,this.error=!1,this.loginForm=this.formBuilder.group({email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.minLength(8)]]})}onSubmit(){console.log(this.loginForm.value),this.loginServices.login(this.loginForm.value).pipe((0,T.q)(1)).subscribe({next:i=>{this.error=!1,"DOER"===i?this.router.navigate(["doer"]).then():this.router.navigate(["client"]).then()},error:i=>{this.error=!0,console.log(i)},complete:()=>console.info("complete")})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(l.qu),e.Y36(b.r),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:17,vars:6,consts:[[1,"container"],[1,"normal-form",3,"formGroup","ngSubmit"],[1,"form-tittle"],[1,"simple-input"],["for","email",1,"input-label"],["type","email","id","email","formControlName","email","aria-describedby","emailError"],["class","form-error","id","emailError",4,"ngIf"],["for","password",1,"input-label"],["type","password","id","password","formControlName","password","aria-describedby","passwordError"],["class","form-error","id","passwordError",4,"ngIf"],["type","submit",1,"primary-button",3,"ngClass","disabled"],["class","form-error",4,"ngIf"],["id","emailError",1,"form-error"],["class","error-text",4,"ngIf"],[1,"error-text"],["id","passwordError",1,"form-error"],[1,"form-error"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(2,"h3",2),e._uU(3,"Login"),e.qZA(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Correo electr\xf3nico"),e.qZA(),e._UZ(7,"input",5),e.YNc(8,F,3,2,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11,"Contrase\xf1a"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,I,3,2,"div",9),e.qZA(),e.TgZ(14,"button",10),e._uU(15,"Iniciar sesi\xf3n"),e.qZA(),e.YNc(16,y,3,0,"div",11),e.qZA()()),2&i){let t,s;e.xp6(1),e.Q6J("formGroup",o.loginForm),e.xp6(7),e.Q6J("ngIf",(null==(t=o.loginForm.get("email"))?null:t.invalid)&&((null==(t=o.loginForm.get("email"))?null:t.dirty)||(null==(t=o.loginForm.get("email"))?null:t.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=o.loginForm.get("password"))?null:s.invalid)&&((null==(s=o.loginForm.get("password"))?null:s.dirty)||(null==(s=o.loginForm.get("password"))?null:s.touched))),e.xp6(1),e.Q6J("ngClass",o.loginForm.invalid?"disabled":"")("disabled",!o.loginForm.valid),e.xp6(2),e.Q6J("ngIf",o.error)}},dependencies:[m.mk,m.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),r})();var U=a(553),w=a(7715),x=a(7398);let J=(()=>{class r{constructor(i){this.router=i,this.pb=new v.ZP(U.N.dataBaseUrl)}register(i){return(0,w.D)(this.pb.collection("users").create(i)).pipe((0,x.U)(o=>o?.userType))}}return r.\u0275fac=function(i){return new(i||r)(e.LFG(f.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function N(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"username es olbigarotio."),e.qZA())}function L(r,n){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,N,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("username"))?null:o.hasError("required"))}}function Y(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"email es olbigarotio."),e.qZA())}function R(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"email no es valido"),e.qZA())}function Q(r,n){if(1&r&&(e.TgZ(0,"div",33),e.YNc(1,Y,2,0,"div",31),e.YNc(2,R,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("email"))?null:o.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.registerForm.get("email"))?null:t.hasError("email"))}}function S(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"La contrase\xf1a es obligatoria."),e.qZA())}function k(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"La contrase\xf1a debe tener al menos 8 caracteres."),e.qZA())}function B(r,n){if(1&r&&(e.TgZ(0,"div",34),e.YNc(1,S,2,0,"div",31),e.YNc(2,k,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("password"))?null:o.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.registerForm.get("password"))?null:t.hasError("minlength"))}}function M(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"La contrase\xf1a es obligatoria."),e.qZA())}function O(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"La contrase\xf1a debe tener al menos 8 caracteres."),e.qZA())}function D(r,n){if(1&r&&(e.TgZ(0,"div",35),e.YNc(1,M,2,0,"div",31),e.YNc(2,O,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("passwordConfirm"))?null:o.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=i.registerForm.get("passwordConfirm"))?null:t.hasError("minlength"))}}function G(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"username es olbigarotio."),e.qZA())}function j(r,n){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,G,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("name"))?null:o.hasError("required"))}}function z(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"username es olbigarotio."),e.qZA())}function X(r,n){if(1&r&&(e.TgZ(0,"div",37),e.YNc(1,z,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("lastname"))?null:o.hasError("required"))}}function P(r,n){1&r&&(e.TgZ(0,"div",32),e._uU(1,"User type is required."),e.qZA())}function W(r,n){if(1&r&&(e.TgZ(0,"div",38),e.YNc(1,P,2,0,"div",31),e.qZA()),2&r){const i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=i.registerForm.get("userType"))?null:o.hasError("required"))}}function K(r,n){1&r&&(e.TgZ(0,"div",39)(1,"p"),e._uU(2,"usuario o contrase\xf1a err\xf3neos"),e.qZA()())}let H=(()=>{class r{constructor(i,o,t){this.formBuilder=i,this.registerService=o,this.router=t,this.error=!1,this.registerForm=this.formBuilder.group({username:["",[l.kI.required]],email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.minLength(8)]],passwordConfirm:["",[l.kI.required,l.kI.minLength(8)]],name:["",[l.kI.required]],lastname:["",[l.kI.required]],userType:["",[l.kI.required]]})}onSubmit(){console.log(this.registerForm.value),this.registerService.register(this.registerForm.value).pipe((0,T.q)(1)).subscribe({next:i=>{this.error=!1,"DOER"===i?this.router.navigate(["doer"]).then():this.router.navigate(["client"]).then()},error:i=>{this.error=!0,console.log(i)},complete:()=>console.info("complete")})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(l.qu),e.Y36(J),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:48,vars:11,consts:[[1,"container"],[1,"normal-form",3,"formGroup","ngSubmit"],[1,"form-tittle"],[1,"simple-input"],["for","username",1,"input-label"],["type","text","id","username","formControlName","username","aria-describedby","usernameError"],["class","form-error","id","usernameError",4,"ngIf"],["for","email",1,"input-label"],["type","email","id","email","formControlName","email","aria-describedby","emailError"],["class","form-error","id","emailError",4,"ngIf"],["for","password",1,"input-label"],["type","password","id","password","formControlName","password","aria-describedby","passwordError"],["class","form-error","id","passwordError",4,"ngIf"],["for","passwordConfirm",1,"input-label"],["type","password","id","passwordConfirm","formControlName","passwordConfirm","aria-describedby","passwordConfirmError"],["class","form-error","id","passwordConfirmError",4,"ngIf"],["for","name",1,"input-label"],["type","text","id","name","formControlName","name","aria-describedby","nameError"],["class","form-error","id","nameError",4,"ngIf"],["for","lastname",1,"input-label"],["type","text","id","lastname","formControlName","lastname","aria-describedby","lastnameError"],["class","form-error","id","lastnameError",4,"ngIf"],["for","userType",1,"input-label"],["id","userType","formControlName","userType","aria-describedby","userTypeError"],["value",""],["value","DOER"],["value","CLIENT"],["class","form-error","id","userTypeError",4,"ngIf"],["type","submit",1,"primary-button",3,"ngClass","disabled"],["class","form-error",4,"ngIf"],["id","usernameError",1,"form-error"],["class","error-text",4,"ngIf"],[1,"error-text"],["id","emailError",1,"form-error"],["id","passwordError",1,"form-error"],["id","passwordConfirmError",1,"form-error"],["id","nameError",1,"form-error"],["id","lastnameError",1,"form-error"],["id","userTypeError",1,"form-error"],[1,"form-error"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(2,"h3",2),e._uU(3,"Registro"),e.qZA(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"username"),e.qZA(),e._UZ(7,"input",5),e.YNc(8,L,2,1,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11,"email"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,Q,3,2,"div",9),e.qZA(),e.TgZ(14,"div",3)(15,"label",10),e._uU(16,"password"),e.qZA(),e._UZ(17,"input",11),e.YNc(18,B,3,2,"div",12),e.qZA(),e.TgZ(19,"div",3)(20,"label",13),e._uU(21,"passwordConfirm"),e.qZA(),e._UZ(22,"input",14),e.YNc(23,D,3,2,"div",15),e.qZA(),e.TgZ(24,"div",3)(25,"label",16),e._uU(26,"name"),e.qZA(),e._UZ(27,"input",17),e.YNc(28,j,2,1,"div",18),e.qZA(),e.TgZ(29,"div",3)(30,"label",19),e._uU(31,"lastname"),e.qZA(),e._UZ(32,"input",20),e.YNc(33,X,2,1,"div",21),e.qZA(),e.TgZ(34,"div",3)(35,"label",22),e._uU(36,"User Type"),e.qZA(),e.TgZ(37,"select",23)(38,"option",24),e._uU(39,"Select user type"),e.qZA(),e.TgZ(40,"option",25),e._uU(41,"DOER"),e.qZA(),e.TgZ(42,"option",26),e._uU(43,"CLIENT"),e.qZA()(),e.YNc(44,W,2,1,"div",27),e.qZA(),e.TgZ(45,"button",28),e._uU(46,"Registrar"),e.qZA(),e.YNc(47,K,3,0,"div",29),e.qZA()()),2&i){let t,s,u,g,d,p,c;e.xp6(1),e.Q6J("formGroup",o.registerForm),e.xp6(7),e.Q6J("ngIf",(null==(t=o.registerForm.get("username"))?null:t.invalid)&&((null==(t=o.registerForm.get("username"))?null:t.dirty)||(null==(t=o.registerForm.get("username"))?null:t.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=o.registerForm.get("email"))?null:s.invalid)&&((null==(s=o.registerForm.get("email"))?null:s.dirty)||(null==(s=o.registerForm.get("email"))?null:s.touched))),e.xp6(5),e.Q6J("ngIf",(null==(u=o.registerForm.get("password"))?null:u.invalid)&&((null==(u=o.registerForm.get("password"))?null:u.dirty)||(null==(u=o.registerForm.get("password"))?null:u.touched))),e.xp6(5),e.Q6J("ngIf",(null==(g=o.registerForm.get("passwordConfirm"))?null:g.invalid)&&((null==(g=o.registerForm.get("passwordConfirm"))?null:g.dirty)||(null==(g=o.registerForm.get("passwordConfirm"))?null:g.touched))),e.xp6(5),e.Q6J("ngIf",(null==(d=o.registerForm.get("name"))?null:d.invalid)&&((null==(d=o.registerForm.get("name"))?null:d.dirty)||(null==(d=o.registerForm.get("name"))?null:d.touched))),e.xp6(5),e.Q6J("ngIf",(null==(p=o.registerForm.get("lastname"))?null:p.invalid)&&((null==(p=o.registerForm.get("lastname"))?null:p.dirty)||(null==(p=o.registerForm.get("lastname"))?null:p.touched))),e.xp6(11),e.Q6J("ngIf",(null==(c=o.registerForm.get("userType"))?null:c.invalid)&&((null==(c=o.registerForm.get("userType"))?null:c.dirty)||(null==(c=o.registerForm.get("userType"))?null:c.touched))),e.xp6(1),e.Q6J("ngClass",o.registerForm.invalid?"disabled":"")("disabled",o.registerForm.invalid),e.xp6(2),e.Q6J("ngIf",o.error)}},dependencies:[m.mk,m.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u]}),r})();function V(r,n){1&r&&(e.ynx(0),e.TgZ(1,"div",6),e._UZ(2,"app-login"),e.qZA(),e.BQk())}function $(r,n){1&r&&(e.ynx(0),e.TgZ(1,"div",6),e._UZ(2,"app-register"),e.qZA(),e.BQk())}const Z=function(r,n){return{active:r,select:n}},ee=[{path:"",component:(()=>{class r{constructor(){this.activeTab="login"}setActiveTab(i){this.activeTab=i}closeSection(){new v.ZP("http://127.0.0.1:8090").authStore.clear()}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-login"]],decls:11,vars:10,consts:[[1,"container"],[1,"tab"],[1,"button"],[1,"blue-btn",3,"ngClass","click"],[1,"content"],[4,"ngIf"],[1,"tab-section"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"button",3),e.NdJ("click",function(){return o.setActiveTab("login")}),e._uU(4," Inicio de sesi\xf3n "),e.qZA()(),e.TgZ(5,"span",2)(6,"button",3),e.NdJ("click",function(){return o.setActiveTab("register")}),e._uU(7," Registro "),e.qZA()()(),e.TgZ(8,"div",4),e.YNc(9,V,3,0,"ng-container",5),e.YNc(10,$,3,0,"ng-container",5),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("ngClass",e.WLB(4,Z,"login"===o.activeTab,"login"===o.activeTab)),e.xp6(3),e.Q6J("ngClass",e.WLB(7,Z,"register"===o.activeTab,"register"===o.activeTab)),e.xp6(3),e.Q6J("ngIf","login"===o.activeTab),e.xp6(1),e.Q6J("ngIf","register"===o.activeTab))},dependencies:[m.mk,m.O5,E,H]}),r})()}];let re=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(ee),f.Bz]}),r})(),oe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,l.UX,re]}),r})()}}]);